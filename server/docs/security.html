<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Guide - Roblox Multi-Game System</title>
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4cc9f0;
            --warning-color: #f72585;
            --danger-color: #e63946;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            background-color: #fafafa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: var(--box-shadow);
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        nav {
            background-color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .nav-link {
            text-decoration: none;
            color: var(--dark-color);
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
        }
        
        .nav-link:hover, .nav-link.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        main {
            padding: 2rem 0;
        }
        
        section {
            margin-bottom: 3rem;
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        h2 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-color);
        }
        
        h3 {
            color: var(--secondary-color);
            margin: 1.5rem 0 1rem;
        }
        
        .security-card {
            border: 1px solid #e9ecef;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 1.5rem 0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .security-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }
        
        .security-card h4 {
            color: var(--secondary-color);
            margin-bottom: 0.5rem;
        }
        
        .code-block {
            background-color: #f8f9fa;
            padding: 1rem;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            background-color: var(--accent-color);
            color: white;
            border-radius: 20px;
            font-size: 0.8rem;
            margin: 0.25rem;
        }
        
        .badge-success {
            background-color: #4cc9f0;
        }
        
        .badge-warning {
            background-color: #f72585;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .feature-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            border: 1px solid #e9ecef;
        }
        
        .feature-card h5 {
            color: var(--secondary-color);
            margin-bottom: 0.5rem;
        }
        
        .security-step {
            display: flex;
            margin: 1.5rem 0;
            align-items: flex-start;
        }
        
        .step-number {
            background-color: var(--warning-color);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-right: 1rem;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .alert {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: var(--border-radius);
        }
        
        .alert-warning {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
        }
        
        .alert-danger {
            background-color: #f8d7da;
            border-left: 4px solid var(--danger-color);
        }
        
        .alert-success {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
        }
        
        ul, ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }
        
        li {
            margin: 0.5rem 0;
        }
        
        footer {
            background-color: var(--dark-color);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }
        
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-link {
                width: 100%;
                text-align: center;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Security Guide - Roblox Multi-Game System</h1>
            <p>Comprehensive security practices and recommendations</p>
        </div>
    </header>
    
    <nav>
        <div class="container">
            <div class="nav-container">
                <a href="./index.html" class="nav-link">Home</a>
                <a href="#security-model" class="nav-link">Security Model</a>
                <a href="#authentication" class="nav-link">Authentication</a>
                <a href="#authorization" class="nav-link">Authorization</a>
                <a href="#network-security" class="nav-link">Network Security</a>
                <a href="#container-security" class="nav-link">Container Security</a>
                <a href="#data-security" class="nav-link">Data Security</a>
                <a href="#monitoring" class="nav-link">Monitoring</a>
                <a href="#compliance" class="nav-link">Compliance</a>
            </div>
        </div>
    </nav>
    
    <main class="container">
        <section id="security-model">
            <h2>Security Model</h2>
            
            <p>The Roblox Multi-Game System implements a defense-in-depth security model with multiple layers of protection:</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h5>Physical Security</h5>
                    <ul>
                        <li>Secure hosting environment</li>
                        <li>Restricted facility access</li>
                        <li>Environmental controls</li>
                        <li>Redundant power systems</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>Infrastructure Security</h5>
                    <ul>
                        <li>Docker container isolation</li>
                        <li>Network segmentation</li>
                        <li>Firewall configuration</li>
                        <li>Intrusion detection systems</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>Application Security</h5>
                    <ul>
                        <li>Secure coding practices</li>
                        <li>Input validation</li>
                        <li>Output encoding</li>
                        <li>Authentication & authorization</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>Data Security</h5>
                    <ul>
                        <li>Encryption at rest</li>
                        <li>Encryption in transit</li>
                        <li>Access controls</li>
                        <li>Data classification</li>
                    </ul>
                </div>
            </div>
            
            <div class="alert alert-warning">
                <h4>Security Responsibility Model</h4>
                <p>Security is shared between the platform operators and end users:</p>
                <ul>
                    <li><strong>Platform Operators:</strong> Infrastructure security, patching, network security</li>
                    <li><strong>Game Developers:</strong> Secure game logic, input validation, asset security</li>
                    <li><strong>End Users:</strong> Account security, password protection, secure practices</li>
                </ul>
            </div>
        </section>
        
        <section id="authentication">
            <h2>Authentication</h2>
            
            <p>The system employs multiple authentication mechanisms to verify identity.</p>
            
            <div class="security-card">
                <h4>JSON Web Token (JWT) Authentication</h4>
                
                <h5>Token Structure</h5>
                <div class="code-block">
{
  "header": {
    "alg": "HS256",  // Algorithm: HMAC SHA-256
    "typ": "JWT"     // Type: JSON Web Token
  },
  "payload": {
    "sub": "user_id",           // Subject (user identifier)
    "name": "username",         // User name
    "role": "player",           // User role
    "iat": 1620000000,         // Issued at time
    "exp": 1620086400,         // Expiration time
    "aud": "roblox-server",    // Audience
    "iss": "roblox-game-manager" // Issuer
  }
}
                </div>
                
                <h5>Implementation Example</h5>
                <div class="code-block">
const jwt = require('jsonwebtoken');
const secret = process.env.JWT_SECRET;

// Generate token for user
function generateToken(user) {
  return jwt.sign({
    sub: user.id,
    name: user.username,
    role: user.role,
    exp: Math.floor(Date.now() / 1000) + (60 * 60 * 24) // 24 hours
  }, secret);
}

// Verify token
function verifyToken(token) {
  try {
    return jwt.verify(token, secret);
  } catch (error) {
    throw new Error('Invalid token');
  }
}

// Middleware to protect routes
function authenticateToken(req, res, next) {
  const authHeader = req.headers['authorization'];
  const token = authHeader && authHeader.split(' ')[1]; // Bearer TOKEN

  if (!token) {
    return res.sendStatus(401);
  }

  jwt.verify(token, secret, (err, user) => {
    if (err) return res.sendStatus(403);
    req.user = user;
    next();
  });
}
                </div>
            </div>
            
            <div class="security-card">
                <h4>Secure Password Policies</h4>
                
                <h5>Password Requirements</h5>
                <ul>
                    <li>Minimum 12 characters</li>
                    <li>At least one uppercase letter</li>
                    <li>At least one lowercase letter</li>
                    <li>At least one number</li>
                    <li>At least one special character</li>
                    <li>No dictionary words or common patterns</li>
                    <li>Not reused from previous 24 passwords</li>
                </ul>
                
                <h5>Implementation</h5>
                <div class="code-block">
const zxcvbn = require('zxcvbn');

function validatePassword(password) {
  const result = zxcvbn(password);
  
  if (result.score < 3) {
    throw new Error('Password too weak');
  }
  
  if (password.length < 12) {
    throw new Error('Password must be at least 12 characters');
  }
  
  const requirements = {
    hasUpper: /[A-Z]/.test(password),
    hasLower: /[a-z]/.test(password),
    hasNumber: /\d/.test(password),
    hasSpecial: /[!@#$%^&*(),.?":{}|&lt;&gt;].test(password)
  };
  
  if (!Object.values(requirements).every(req => req)) {
    throw new Error('Password does not meet requirements');
  }
  
  return true;
}
                </div>
            </div>
        </section>
        
        <section id="authorization">
            <h2>Authorization</h2>
            
            <p>The system implements Role-Based Access Control (RBAC) to enforce fine-grained permissions.</p>
            
            <h3>Role Definition</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h5>Player</h5>
                    <ul>
                        <li>Join and participate in games</li>
                        <li>View their own profile</li>
                        <li>Update their own profile</li>
                        <li>Chat with other players (with moderation)</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>Game Moderator</h5>
                    <ul>
                        <li>All player rights</li>
                        <li>Moderate chat</li>
                        <li>Kick/ban disruptive players</li>
                        <li>Manage game settings</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>Game Owner</h5>
                    <ul>
                        <li>All moderator rights</li>
                        <li>Create game instances</li>
                        <li>Configure game rules</li>
                        <li>View game analytics</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>Administrator</h5>
                    <ul>
                        <li>All rights from lower roles</li>
                        <li>Manage all games</li>
                        <li>Manage all users</li>
                        <li>System configuration</li>
                        <li>Security monitoring</li>
                    </ul>
                </div>
            </div>
            
            <h3>Permission Matrix</h3>
            <table>
                <thead>
                    <tr>
                        <th>Permission</th>
                        <th>Player</th>
                        <th>Game Moderator</th>
                        <th>Game Owner</th>
                        <th>Admin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Create Game</td>
                        <td>❌</td>
                        <td>❌</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>Join Game</td>
                        <td>✅</td>
                        <td>✅</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>View Analytics</td>
                        <td>❌</td>
                        <td>❌</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>Manage Users</td>
                        <td>❌</td>
                        <td>❌</td>
                        <td>❌</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>Modify System Config</td>
                        <td>❌</td>
                        <td>❌</td>
                        <td>❌</td>
                        <td>✅</td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <section id="network-security">
            <h2>Network Security</h2>
            
            <p>Network security measures protect communication between services and clients.</p>
            
            <div class="security-step">
                <div class="step-number">1</div>
                <div>
                    <h4>Transport Layer Security</h4>
                    <p>All communication is encrypted using TLS 1.3:</p>
                    <div class="code-block">
# Nginx SSL configuration
server {
    listen 443 ssl http2;
    server_name localhost;
    
    ssl_certificate /etc/nginx/ssl/cert.pem;
    ssl_certificate_key /etc/nginx/ssl/key.pem;
    
    # Recommended ciphers
    ssl_protocols TLSv1.3;
    ssl_ciphers 'TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256';
    ssl_prefer_server_ciphers off;
    
    # Security headers
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
    add_header X-Content-Type-Options nosniff always;
    add_header X-Frame-Options DENY always;
}
                    </div>
                </div>
            </div>
            
            <div class="security-step">
                <div class="step-number">2</div>
                <div>
                    <h4>Firewall Configuration</h4>
                    <p>Only necessary ports are exposed to external networks:</p>
                    <div class="code-block">
# UFW (Uncomplicated Firewall) configuration
ufw default deny incoming
ufw default allow outgoing

# Allow only necessary services
ufw allow 80/tcp comment 'HTTP traffic'
ufw allow 443/tcp comment 'HTTPS traffic'
ufw allow 27015/tcp comment 'Game traffic'
ufw allow 22/tcp comment 'SSH (with fail2ban)'
                    </div>
                </div>
            </div>
            
            <div class="security-step">
                <div class="step-number">3</div>
                <div>
                    <h4>Rate Limiting</h4>
                    <p>Protects against DoS attacks by limiting requests:</p>
                    <div class="code-block">
# Nginx rate limiting
limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;
limit_req_zone $binary_remote_addr zone=login:10m rate=3r/s;
limit_req_zone $binary_remote_addr zone=general:10m rate=30r/s;

server {
    # API rate limiting
    location /api/ {
        limit_req zone=api burst=20 nodelay;
        proxy_pass http://roblox_backend;
    }
    
    # Login rate limiting
    location /auth/login {
        limit_req zone=login burst=5 nodelay;
        proxy_pass http://roblox_backend;
    }
}
                    </div>
                </div>
            </div>
            
            <div class="security-step">
                <div class="step-number">4</div>
                <div>
                    <h4>Network Segmentation</h4>
                    <p>Internal services are isolated using Docker networks:</p>
                    <div class="code-block">
version: '3.8'

services:
  # Frontend services (exposed to internet)
  nginx:
    # ... nginx config ...
    networks:
      - frontend-network  # Internet-facing network
    
  # Backend services (internal only)
  roblox-server:
    # ... server config ...
    networks:
      - backend-network  # Internal network (not exposed to internet)
    
  # Database services (isolated)
  postgres:
    # ... db config ...
    networks:
      - backend-network  # Same internal network as roblox-server
    expose:  # Only internal access
      - "5432"

networks:
  frontend-network:
    driver: bridge
  backend-network:
    driver: bridge
    internal: true  # No external connectivity
                    </div>
                </div>
            </div>
        </section>
        
        <section id="container-security">
            <h2>Container Security</h2>
            
            <p>Container runtime security is critical for the multi-game system.</p>
            
            <h3>Security Best Practices</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h5>Non-Root Execution</h5>
                    <p>Containers run with minimal privileges:</p>
                    <div class="code-block">
# In Dockerfile
RUN useradd -m -u 1000 roblox
USER roblox
                    </div>
                </div>
                
                <div class="feature-card">
                    <h5>Minimal Base Images</h5>
                    <p>Use Alpine Linux or similar minimal bases:</p>
                    <div class="code-block">
FROM node:18-alpine
# Instead of
FROM node:18-bullseye
                    </div>
                </div>
                
                <div class="feature-card">
                    <h5>Image Scanning</h5>
                    <p>Scan for vulnerabilities before deployment:</p>
                    <div class="code-block">
# Run vulnerability scans
docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \
  aquasec/trivy image my-game-server:latest
                    </div>
                </div>
                
                <div class="feature-card">
                    <h5>Runtime Constraints</h5>
                    <p>Limit container capabilities:</p>
                    <div class="code-block">
services:
  roblox-server:
    # ... other config ...
    security_opt:
      - no-new-privileges:true
    cap_drop:
      - ALL
    read_only: true
    tmpfs:
      - /tmp
      - /var/run
                    </div>
                </div>
            </div>
            
            <h3>Trusted Images</h3>
            <p>Use only official and verified base images:</p>
            <ul>
                <li>Official Node.js images: <code>node:18-alpine</code></li>
                <li>Official PostgreSQL: <code>postgres:15-alpine</code></li>
                <li>Official Redis: <code>redis:7-alpine</code></li>
                <li>Official Nginx: <code>nginx:alpine</code></li>
            </ul>
            
            <div class="alert alert-warning">
                <h4>Important Security Note</h4>
                <p>Never use <code>latest</code> tag in production. Pin specific versions to prevent unexpected updates that might include malicious content.</p>
            </div>
        </section>
        
        <section id="data-security">
            <h2>Data Security</h2>
            
            <p>Protecting player data and intellectual property is paramount.</p>
            
            <h3>Data Encryption</h3>
            <div class="security-step">
                <div class="step-number">A</div>
                <div>
                    <h4>Encryption at Rest</h4>
                    <p>Database and file storage encryption:</p>
                    <ul>
                        <li>PostgreSQL TDE (Transparent Data Encryption)</li>
                        <li>Encrypted file storage with LUKS</li>
                        <li>Encrypted backups</li>
                    </ul>
                    
                    <div class="code-block">
# PostgreSQL encryption settings
ALTER TABLE players SET ENCRYPTED;
ALTER TABLE game_sessions SET ENCRYPTED;
                    </div>
                </div>
            </div>
            
            <div class="security-step">
                <div class="step-number">B</div>
                <div>
                    <h4>Encryption in Transit</h4>
                    <p>All data transmission uses TLS encryption:</p>
                    <div class="code-block">
# PostgreSQL connection string with SSL
postgresql://user:pass@host:5432/db?sslmode=require
                    </div>
                </div>
            </div>
            
            <h3>Sensitive Data Handling</h3>
            <div class="security-card">
                <h4>Password Hashing</h4>
                <div class="code-block">
const bcrypt = require('bcrypt');

// Hash password before storing
async function hashPassword(plaintextPassword) {
  const saltRounds = 12;
  return await bcrypt.hash(plaintextPassword, saltRounds);
}

// Compare password with hash
async function comparePassword(plaintextPassword, hash) {
  return await bcrypt.compare(plaintextPassword, hash);
}
                </div>
            </div>
            
            <div class="security-card">
                <h4>PII Protection</h4>
                <p>Personal Identifiable Information is protected:</p>
                <div class="code-block">
// Mask sensitive fields in API responses
function sanitizePlayerData(player) {
  return {
    id: player.id,
    username: player.username,
    // Don't expose email, password, or other sensitive data
    joinDate: player.joinDate
  };
}

// Encrypt sensitive data in database
function encryptField(field) {
  const crypto = require('crypto');
  const algorithm = 'aes-256-gcm';
  const key = process.env.ENCRYPTION_KEY;
  
  const iv = crypto.randomBytes(16);
  const cipher = crypto.createCipher(algorithm, key);
  
  let encrypted = cipher.update(field, 'utf8', 'hex');
  encrypted += cipher.final('hex');
  
  return { encrypted, iv: iv.toString('hex') };
}
                </div>
            </div>
        </section>
        
        <section id="monitoring">
            <h2>Security Monitoring</h2>
            
            <p>Continuous monitoring detects and responds to security incidents.</p>
            
            <h3>Log Management</h3>
            <p>All security-relevant events are logged:</p>
            <ul>
                <li>Login attempts (successful/failure)</li>
                <li>Authorization failures</li>
                <li>API access patterns</li>
                <li>System configuration changes</li>
                <li>Network traffic anomalies</li>
                <li>File integrity changes</li>
            </ul>
            
            <div class="code-block">
# Winston logger configuration
const winston = require('winston');

const securityLogger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ 
      filename: 'logs/security.log',
      level: 'info',
      format: winston.format.combine(
        winston.format.timestamp(),
        winston.format.printf(info => {
          return `${info.timestamp} [SECURITY] ${info.level.toUpperCase()}: ${info.message}`;
        })
      )
    })
  ]
});

// Log security events
securityLogger.info('Player login', {
  playerId: player.id,
  ipAddress: req.ip,
  userAgent: req.get('User-Agent'),
  timestamp: new Date().toISOString()
});
            </div>
            
            <h3>Intrusion Detection</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h5>Behavioral Analysis</h5>
                    <ul>
                        <li>Unusual login patterns</li>
                        <li>Abnormal API usage</li>
                        <li>Geographic anomalies</li>
                        <li>Resource usage spikes</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>Threat Intelligence</h5>
                    <ul>
                        <li>IP address reputation</li>
                        <li>Known attack patterns</li>
                        <li>Malicious payload detection</li>
                        <li>IoC (Indicators of Compromise)</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>Automated Response</h5>
                    <ul>
                        <li>Account lockout</li>
                        <li>IP blocking</li>
                        <li>Incident reporting</li>
                        <li>Forensic logging</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="compliance">
            <h2>Compliance</h2>
            
            <p>The system complies with applicable regulations and standards.</p>
            
            <h3>Data Protection Regulations</h3>
            <div class="security-card">
                <h4>GDPR Compliance</h4>
                <p>For EU residents, the system implements GDPR requirements:</p>
                <ul>
                    <li><strong>Right to Access:</strong> Users can download all their data</li>
                    <li><strong>Right to Rectification:</strong> Correct inaccurate personal data</li>
                    <li><strong>Right to Erasure:</strong> Delete account and data on request</li>
                    <li><strong>Right to Restrict Processing:</strong> Temporarily restrict data use</li>
                    <li><strong>Data Portability:</strong> Export data in structured format</li>
                </ul>
                
                <h5>Implementation</h5>
                <div class="code-block">
// GDPR data export endpoint
app.get('/api/gdpr/export', authenticateToken, async (req, res) => {
  const userId = req.user.sub;
  
  // Collect all user data
  const userData = {
    profile: await getProfile(userId),
    gameHistory: await getGameHistory(userId),
    preferences: await getUserPreferences(userId),
    consentHistory: await getConsentHistory(userId)
  };
  
  // Create downloadable archive
  const zipBuffer = await createZip(userData);
  
  res.attachment('data-export.zip');
  res.send(zipBuffer);
});

// GDPR delete endpoint
app.delete('/api/gdpr/delete', authenticateToken, async (req, res) => {
  const userId = req.user.sub;
  
  // Anonymize user data
  await anonymizeUserData(userId);
  
  // Log GDPR deletion request
  securityLogger.info('GDPR deletion', {
    userId: userId,
    requester: req.user.sub,
    timestamp: new Date().toISOString()
  });
  
  res.json({ message: 'Data deleted according to GDPR' });
});
                </div>
            </div>
            
            <div class="security-card">
                <h4>COPPA Compliance</h4>
                <p>For users under 13, Child Online Privacy Protection Act compliance:</p>
                <ul>
                    <li>No collection of personal information from children</li>
                    <li>Verification of parental consent</li>
                    <li>Aggressive filtering of user-generated content</li>
                    <li>Enhanced privacy controls</li>
                </ul>
            </div>
            
            <h3>Security Standards</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h5>OWASP Top 10</h5>
                    <ul>
                        <li>Injection prevention</li>
                        <li>Broken authentication</li>
                        <li>Sensitive data exposure</li>
                        <li>XML External Entities</li>
                        <li>Broken access control</li>
                        <li>Security misconfigurations</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>NIST Cybersecurity</h5>
                    <ul>
                        <li>Identify security risks</li>
                        <li>Protect with safeguards</li>
                        <li>Detect security events</li>
                        <li>Respond to incidents</li>
                        <li>Recover from security events</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h5>ISO 27001</h5>
                    <ul>
                        <li>Information security management</li>
                        <li>Asset management</li>
                        <li>Access control</li>
                        <li>Cryptographic controls</li>
                        <li>Physical security</li>
                    </ul>
                </div>
            </div>
            
            <div class="alert alert-success">
                <h4>Security Certifications</h4>
                <p>This system implements security controls aligned with industry standards and undergoes regular security assessments.</p>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="container">
            <p>Roblox Multi-Game System - Security Guide</p>
            <p>© 2025 Roblox Game Development Team</p>
        </div>
    </footer>
</body>
</html>